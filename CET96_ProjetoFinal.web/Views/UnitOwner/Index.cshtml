@model CET96_ProjetoFinal.web.Models.UnitOwnerDashboardViewModel

@{
    ViewData["Title"] = "Owner Dashboard";
}

<div class="text-center">
    <h1 class="display-4">Welcome, Owner!</h1>
</div>
<hr />

<div class="row">
    <div class="col-md-4">
        <h4>Your Condominium</h4>
        <dl>
            <dt>Name</dt>
            <dd>@Model.Condominium.Name</dd>
            <dt>Address</dt>
            <dd>@Model.Condominium.Address</dd>
        </dl>
    </div>
    <div class="col-md-4">
        <h4>Your Unit</h4>
        <dl>
            <dt>Unit Number</dt>
            <dd>@Model.Unit.UnitNumber</dd>
        </dl>

        @* This is the new contextual button to message the manager *@
        @if (Model.Manager != null)
        {
            <a asp-controller="Messages" asp-action="Create" class="btn btn-sm btn-outline-primary">
                Contact Your Manager
            </a>
        }
    </div>
    <div class="col-md-4">
        <h4>Your Manager</h4>
        @if (Model.Manager != null)
        {
            <dl>
                <dt>Name</dt>
                <dd>@Model.Manager.FirstName @Model.Manager.LastName</dd>
                <dt>Email</dt>
                <dd>@Model.Manager.Email</dd>
            </dl>
        }
        else
        {
            <div class="alert alert-warning">No manager is currently assigned to your condominium.</div>
        }
    </div>
</div>
<hr />

<div class="text-center mt-4">
    <p>Or use the general messaging options below.</p>
    <a asp-action="Create" asp-controller="Messages" class="btn btn-success btn-lg mb-3">Create New Conversation</a>
    <a asp-controller="Messages" asp-action="Index" class="btn btn-primary btn-lg mb-3">Go to Message Center</a>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}